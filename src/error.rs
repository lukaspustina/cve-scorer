use thiserror::Error;

#[derive(Error, Debug)]
pub enum Error {
    #[error("internal error: {msg}")]
    InternalError { msg: &'static str },
    #[error("failed to parse '{what}' to {to} because {why}")]
    ParserError {
        what: String,
        to: &'static str,
        why: String,
    },
    #[error("HTTP client error: {why}")]
    HttpClientError { why: &'static str, source: reqwest::Error },
    #[error("Request for '{id}' failed because with status code {status_code}")]
    RequestFailed {
        id: String,
        status_code: reqwest::StatusCode,
    },
}

pub type RequestResult<T> = std::result::Result<T, Error>;
pub type Result<T> = std::result::Result<T, Error>;
